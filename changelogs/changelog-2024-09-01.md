## LandSandBoat Changelog (2024-09-01)
- [lls] annotate npcutil global, correct issues identified [[#6201](https://github.com/LandSandBoat/server/pull/6201), [patch](https://github.com/LandSandBoat/server/pull/6201.patch)] (claywar)
- [lls] annotate utils global, correct issues identified [[#6195](https://github.com/LandSandBoat/server/pull/6195), [patch](https://github.com/LandSandBoat/server/pull/6195.patch)] (claywar)
- [lua] change bind to use retail accurate random duration [[#6194](https://github.com/LandSandBoat/server/pull/6194), [patch](https://github.com/LandSandBoat/server/pull/6194.patch)] (TracentEden2, TracentEden)
- [sql] audit spells elements and skills [[#6193](https://github.com/LandSandBoat/server/pull/6193), [patch](https://github.com/LandSandBoat/server/pull/6193.patch)] (Xaver-DaRed)
- Fix relic ws add effect durations [[#6191](https://github.com/LandSandBoat/server/pull/6191), [patch](https://github.com/LandSandBoat/server/pull/6191.patch)] (WinterSolstice8)
- Add synergy menu research [[#6188](https://github.com/LandSandBoat/server/pull/6188), [patch](https://github.com/LandSandBoat/server/pull/6188.patch)] (zach2good)
- Shadows of the mind isnm [[#6185](https://github.com/LandSandBoat/server/pull/6185), [patch](https://github.com/LandSandBoat/server/pull/6185.patch)] (jmcmorris, Jasson McMorris)
- [login] add keepalives to tcp sockets [[#6184](https://github.com/LandSandBoat/server/pull/6184), [patch](https://github.com/LandSandBoat/server/pull/6184.patch)] (WinterSolstice8)
- [lua] fix traveling merchant conquest tie issue [[#6182](https://github.com/LandSandBoat/server/pull/6182), [patch](https://github.com/LandSandBoat/server/pull/6182.patch)] (TracentEden2, TracentEden)
- [abyssea] fix when yellow weakness is chosen [[#6181](https://github.com/LandSandBoat/server/pull/6181), [patch](https://github.com/LandSandBoat/server/pull/6181.patch)] (Xaver-DaRed)
- Implement the isnm making a mockery [[#6180](https://github.com/LandSandBoat/server/pull/6180), [patch](https://github.com/LandSandBoat/server/pull/6180.patch)] (jmcmorris, Jasson McMorris)
- [th] make bracket loop go through all table entries instead of a set range [[#6178](https://github.com/LandSandBoat/server/pull/6178), [patch](https://github.com/LandSandBoat/server/pull/6178.patch)] (Xaver-DaRed)
- [fix] add ranged attack effects to last resort [[#6177](https://github.com/LandSandBoat/server/pull/6177), [patch](https://github.com/LandSandBoat/server/pull/6177.patch)] (Xaver-DaRed)
- Fix enum references in pm8-1 [[#6175](https://github.com/LandSandBoat/server/pull/6175), [patch](https://github.com/LandSandBoat/server/pull/6175.patch)] (claywar)
- [bug fix]preserve m_pitem when copying/assigning latents. [[#6174](https://github.com/LandSandBoat/server/pull/6174), [patch](https://github.com/LandSandBoat/server/pull/6174.patch)] (TiberonKalkaz, Tiberon)
- [lls] add core global definitions (luautils), clarify enums, and correct issues [[#6173](https://github.com/LandSandBoat/server/pull/6173), [patch](https://github.com/LandSandBoat/server/pull/6173.patch)] (claywar)
- Chore: re-format license headers [[#6172](https://github.com/LandSandBoat/server/pull/6172), [patch](https://github.com/LandSandBoat/server/pull/6172.patch)] (zach2good)
- [output] august 2024 version update [[#8](https://github.com/LandSandBoat/UpdateExtractor/pull/8), [patch](https://github.com/LandSandBoat/UpdateExtractor/pull/8.patch)] (claywar)
- [core] change ccharentity* to cbattleentity* and add dynamic casts [[#6170](https://github.com/LandSandBoat/server/pull/6170), [patch](https://github.com/LandSandBoat/server/pull/6170.patch)] (WinterSolstice8)
- Add clarifications to coc and contrib guide [[#6164](https://github.com/LandSandBoat/server/pull/6164), [patch](https://github.com/LandSandBoat/server/pull/6164.patch)] (zach2good)
- [fix] add missing message id in aht uhrgan whitegate [[#6162](https://github.com/LandSandBoat/server/pull/6162), [patch](https://github.com/LandSandBoat/server/pull/6162.patch)] (Xaver-DaRed)
- [fix] add missing dominion ops messages [[#6161](https://github.com/LandSandBoat/server/pull/6161), [patch](https://github.com/LandSandBoat/server/pull/6161.patch)] (Xaver-DaRed)
- [sql] update ungur boomerang to have piercing damage type [[#6159](https://github.com/LandSandBoat/server/pull/6159), [patch](https://github.com/LandSandBoat/server/pull/6159.patch)] (WinterSolstice8)
- [lls] add lua language server definitions and annotations [[#6156](https://github.com/LandSandBoat/server/pull/6156), [patch](https://github.com/LandSandBoat/server/pull/6156.patch)] (claywar, Xaver-DaRed)
- Magic: fixes the duration of monomi and tonko [[#6155](https://github.com/LandSandBoat/server/pull/6155), [patch](https://github.com/LandSandBoat/server/pull/6155.patch)] (LoxleyXI)
- [core] [sql] fix a hung session bug [[#6152](https://github.com/LandSandBoat/server/pull/6152), [patch](https://github.com/LandSandBoat/server/pull/6152.patch)] (WinterSolstice8)
- [sql, lua] fix aspir ii and "always magic bursting" in magic.lua [[#6150](https://github.com/LandSandBoat/server/pull/6150), [patch](https://github.com/LandSandBoat/server/pull/6150.patch)] (WinterSolstice8, Xaver-DaRed)
- [magic] fix duplicate message on death spell and enemy death spell not landing ever [[#6148](https://github.com/LandSandBoat/server/pull/6148), [patch](https://github.com/LandSandBoat/server/pull/6148.patch)] (Xaver-DaRed)
- [core, lua] implement nin subtle blow merits [[#6147](https://github.com/LandSandBoat/server/pull/6147), [patch](https://github.com/LandSandBoat/server/pull/6147.patch)] (WinterSolstice8)
- [lua] refactor additional effects to resolve cyclomatic complexity [[#6146](https://github.com/LandSandBoat/server/pull/6146), [patch](https://github.com/LandSandBoat/server/pull/6146.patch)] (WinterSolstice8)
- [lua, core] apply subtle blow, inhibit tp, dagi, store tp to spells [[#6145](https://github.com/LandSandBoat/server/pull/6145), [patch](https://github.com/LandSandBoat/server/pull/6145.patch)] (WinterSolstice8)
- Add "nodiscard" to files where needed [[#6142](https://github.com/LandSandBoat/server/pull/6142), [patch](https://github.com/LandSandBoat/server/pull/6142.patch)] (Xaver-DaRed)
- [core] [lua] rework th effect on drop rates [[#6141](https://github.com/LandSandBoat/server/pull/6141), [patch](https://github.com/LandSandBoat/server/pull/6141.patch)] (Xaver-DaRed)
- [bcnm] add waking the beast ifrit bcnm [[#6140](https://github.com/LandSandBoat/server/pull/6140), [patch](https://github.com/LandSandBoat/server/pull/6140.patch)] (TracentEden2, dallano, TracentEden)
- [fix] "mom the adventurer" module [[#6138](https://github.com/LandSandBoat/server/pull/6138), [patch](https://github.com/LandSandBoat/server/pull/6138.patch)] (Xaver-DaRed)
- Use @enum annotation for tables in enum directory [[#6136](https://github.com/LandSandBoat/server/pull/6136), [patch](https://github.com/LandSandBoat/server/pull/6136.patch)] (claywar)
- Enable ci requirement for lls [[#6134](https://github.com/LandSandBoat/server/pull/6134), [patch](https://github.com/LandSandBoat/server/pull/6134.patch)] (claywar)
- Fix or ignore remaining lua language server warnings and errors [[#6133](https://github.com/LandSandBoat/server/pull/6133), [patch](https://github.com/LandSandBoat/server/pull/6133.patch)] (claywar)
- Change gobbie mystery box dialmask var init value from bool to nil [[#6131](https://github.com/LandSandBoat/server/pull/6131), [patch](https://github.com/LandSandBoat/server/pull/6131.patch)] (claywar)
- Add nil check to dragoon job util usedeepbreathing() [[#6129](https://github.com/LandSandBoat/server/pull/6129), [patch](https://github.com/LandSandBoat/server/pull/6129.patch)] (claywar)
- Fix cruor table reference for non-visions cruor prospectors [[#6128](https://github.com/LandSandBoat/server/pull/6128), [patch](https://github.com/LandSandBoat/server/pull/6128.patch)] (claywar)
- Add null check to charutils::canuseweaponskill() [[#6127](https://github.com/LandSandBoat/server/pull/6127), [patch](https://github.com/LandSandBoat/server/pull/6127.patch)] (claywar)
- [client] august 2024 version update [[#6126](https://github.com/LandSandBoat/server/pull/6126), [patch](https://github.com/LandSandBoat/server/pull/6126.patch)] (claywar)
- [core] add mob mod to skip allegiance check (for healing with damage spells) [[#6124](https://github.com/LandSandBoat/server/pull/6124), [patch](https://github.com/LandSandBoat/server/pull/6124.patch)] (TracentEden2, TracentEden)
- [bugfix]prevent invalid lua onequip calls [[#6121](https://github.com/LandSandBoat/server/pull/6121), [patch](https://github.com/LandSandBoat/server/pull/6121.patch)] (TiberonKalkaz, Tiberon)
- Core: additional checks in treasurepoll [[#6120](https://github.com/LandSandBoat/server/pull/6120), [patch](https://github.com/LandSandBoat/server/pull/6120.patch)] (zach2good)
- Tem. n fix to equalize chameleon yarn and scarlet odoshi drops [[#6119](https://github.com/LandSandBoat/server/pull/6119), [patch](https://github.com/LandSandBoat/server/pull/6119.patch)] (lapislosh, hapro)
- Ext: update to tracy v0.11.0 [[#6118](https://github.com/LandSandBoat/server/pull/6118), [patch](https://github.com/LandSandBoat/server/pull/6118.patch)] (zach2good)
- Chore: format some lambdas [[#6116](https://github.com/LandSandBoat/server/pull/6116), [patch](https://github.com/LandSandBoat/server/pull/6116.patch)] (zach2good)
- [core] attempt to improve session cleanup logic [[#6115](https://github.com/LandSandBoat/server/pull/6115), [patch](https://github.com/LandSandBoat/server/pull/6115.patch)] (WinterSolstice8)
- Troll family mobskills [[#6113](https://github.com/LandSandBoat/server/pull/6113), [patch](https://github.com/LandSandBoat/server/pull/6113.patch)] (jmcmorris, Jasson McMorris)
- [bugfix] fix armoury crate spawning outside bcnm arena [[#6110](https://github.com/LandSandBoat/server/pull/6110), [patch](https://github.com/LandSandBoat/server/pull/6110.patch)] (TiberonKalkaz, Tiberon)
- Core: check player meets skill requirement to use weaponskills [[#6109](https://github.com/LandSandBoat/server/pull/6109), [patch](https://github.com/LandSandBoat/server/pull/6109.patch)] (LoxleyXI)
- [core] move usercheck() after settings init [[#6107](https://github.com/LandSandBoat/server/pull/6107), [patch](https://github.com/LandSandBoat/server/pull/6107.patch)] (WinterSolstice8)
- [guild] account for settings when renouncing craft rank [[#6105](https://github.com/LandSandBoat/server/pull/6105), [patch](https://github.com/LandSandBoat/server/pull/6105.patch)] (Xaver-DaRed)
- Orobon family [[#6095](https://github.com/LandSandBoat/server/pull/6095), [patch](https://github.com/LandSandBoat/server/pull/6095.patch)] (jmcmorris, Jasson McMorris)
- Apkallu family [[#6093](https://github.com/LandSandBoat/server/pull/6093), [patch](https://github.com/LandSandBoat/server/pull/6093.patch)] (jmcmorris, Jasson McMorris)
- [core, lua] give mobs guard skill and prevent some mobs from guarding [[#6020](https://github.com/LandSandBoat/server/pull/6020), [patch](https://github.com/LandSandBoat/server/pull/6020.patch)] (TracentEden2, TracentEden)
